import"./modulepreload-polyfill-B5Qt9EMX.js";import{l as E,f as g}from"./filter-CDRVYlqp.js";function h(l,n){if(n.innerHTML="",l.length===0){const e=document.createElement("p");e.textContent="現在利用可能な施設はありません。",n.appendChild(e);return}const a=document.createElement("ul");a.className="facility-list",l.forEach(e=>{const t=document.createElement("li");t.className="facility-item";const o=document.createElement("div");o.className="facility-header";const s=document.createElement("h3");s.textContent=e.locationName,o.appendChild(s);const d=document.createElement("span");d.className="organization",d.textContent=e.organizationName,o.appendChild(d);const c=document.createElement("div");c.className="facility-details";const i=document.createElement("p");i.className="address",i.textContent=e.locationAddress,c.appendChild(i);const r=document.createElement("p");r.className="coordinates",r.textContent=`緯度: ${e.latitude}, 経度: ${e.longitude}`,c.appendChild(r);const m=document.createElement("p");if(m.className="available-days",m.textContent=e.availableDays,c.appendChild(m),e.notes){const u=document.createElement("p");u.className="notes",u.textContent=e.notes,c.appendChild(u)}t.appendChild(o),t.appendChild(c),a.appendChild(t)}),n.appendChild(a)}function C(l,n){const a=l.value,e=n.value;return new Date(`${a}T${e}`)}function p(l,n,a,e,t){const o=C(n,a),s=g(l,o);t.textContent=`${s.length} 件`,h(s,e)}async function v(){const l=document.getElementById("loading"),n=document.getElementById("result"),a=document.getElementById("count"),e=document.getElementById("input_date"),t=document.getElementById("input_time");if(!l||!n||!a||!e||!t){console.error("Required DOM elements not found");return}try{const o=new Date;e.value=o.toISOString().split("T")[0],t.value=o.toTimeString().slice(0,5),l.style.display="block";const s=await E("/aed-navigation/aed_data.csv");l.style.display="none",p(s,e,t,n,a),e.addEventListener("change",()=>{console.log(`日付変更: ${e.value}`),p(s,e,t,n,a)}),t.addEventListener("change",()=>{console.log(`時間変更: ${t.value}`),p(s,e,t,n,a)})}catch(o){l.style.display="none",n.innerHTML=`<p class="error">データの読み込みに失敗しました: ${o}</p>`,console.error("Error loading AED data:",o)}}v();
